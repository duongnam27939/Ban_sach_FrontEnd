{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let CategoryDetailComponent = class CategoryDetailComponent {\n  constructor(router, categoryService, productService) {\n    this.router = router;\n    this.categoryService = categoryService;\n    this.productService = productService;\n    this.category = {};\n    this.products = [];\n  }\n  ngOnInit() {\n    const id = this.router.snapshot.paramMap.get('id');\n    this.categoryService.getproductByCategory(id).subscribe(response => {\n      this.category = response;\n      this.products = response.products;\n      // Gọi hàm để lấy thông tin chi tiết về từng sản phẩm\n      this.getProductsDetails();\n    }, error => {\n      console.log(error);\n    });\n  }\n  getProductsDetails() {\n    for (const product of this.products) {\n      this.productService.getProduct(product._id).subscribe(response => {\n        // Thêm thông tin chi tiết của sản phẩm vào sản phẩm tương ứng\n        const productIndex = this.products.findIndex(p => p._id === response._id);\n        if (productIndex > -1) {\n          this.products[productIndex] = response;\n        }\n      }, error => {\n        console.log(error);\n      });\n    }\n  }\n};\nCategoryDetailComponent = __decorate([Component({\n  selector: 'app-category-detail',\n  templateUrl: './category-detail.component.html',\n  styleUrls: ['./category-detail.component.scss']\n})], CategoryDetailComponent);","map":{"version":3,"names":["Component","CategoryDetailComponent","constructor","router","categoryService","productService","category","products","ngOnInit","id","snapshot","paramMap","get","getproductByCategory","subscribe","response","getProductsDetails","error","console","log","product","getProduct","_id","productIndex","findIndex","p","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Duong Danh Nam\\Desktop\\thự tập\\FontEnd\\src\\app\\pages\\category-detail\\category-detail.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ICategory } from 'src/app/interface/category';\nimport { CategoryService } from 'src/app/service/category.service';\nimport { ProductsService } from 'src/app/service/products.service';\n\n@Component({\n  selector: 'app-category-detail',\n  templateUrl: './category-detail.component.html',\n  styleUrls: ['./category-detail.component.scss']\n})\nexport class CategoryDetailComponent {\n  category: ICategory;\n  products: IProduct[];\n\n  constructor(\n    private router: ActivatedRoute,\n    private categoryService: CategoryService,\n    private productService: ProductService\n  ) {\n    this.category = {} as ICategory;\n    this.products = [];\n  }\n\n  ngOnInit() {\n    const id = this.router.snapshot.paramMap.get('id');\n    this.categoryService.getproductByCategory(id!).subscribe(\n      (response: ICategory) => {\n        this.category = response;\n        this.products = response.products;\n        // Gọi hàm để lấy thông tin chi tiết về từng sản phẩm\n        this.getProductsDetails();\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  getProductsDetails() {\n    for (const product of this.products) {\n      this.productService.getProduct(product._id).subscribe(\n        (response: IProducts) => {\n          // Thêm thông tin chi tiết của sản phẩm vào sản phẩm tương ứng\n          const productIndex = this.products.findIndex(\n            (p) => p._id === response._id\n          );\n          if (productIndex > -1) {\n            this.products[productIndex] = response;\n          }\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n    }\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAWlC,WAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAIlCC,YACUC,MAAsB,EACtBC,eAAgC,EAChCC,cAA8B;IAF9B,KAAAF,MAAM,GAANA,MAAM;IACN,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,cAAc,GAAdA,cAAc;IAEtB,IAAI,CAACC,QAAQ,GAAG,EAAe;IAC/B,IAAI,CAACC,QAAQ,GAAG,EAAE;EACpB;EAEAC,QAAQA,CAAA;IACN,MAAMC,EAAE,GAAG,IAAI,CAACN,MAAM,CAACO,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IAClD,IAAI,CAACR,eAAe,CAACS,oBAAoB,CAACJ,EAAG,CAAC,CAACK,SAAS,CACrDC,QAAmB,IAAI;MACtB,IAAI,CAACT,QAAQ,GAAGS,QAAQ;MACxB,IAAI,CAACR,QAAQ,GAAGQ,QAAQ,CAACR,QAAQ;MACjC;MACA,IAAI,CAACS,kBAAkB,EAAE;IAC3B,CAAC,EACAC,KAAK,IAAI;MACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CACF;EACH;EAEAD,kBAAkBA,CAAA;IAChB,KAAK,MAAMI,OAAO,IAAI,IAAI,CAACb,QAAQ,EAAE;MACnC,IAAI,CAACF,cAAc,CAACgB,UAAU,CAACD,OAAO,CAACE,GAAG,CAAC,CAACR,SAAS,CAClDC,QAAmB,IAAI;QACtB;QACA,MAAMQ,YAAY,GAAG,IAAI,CAAChB,QAAQ,CAACiB,SAAS,CACzCC,CAAC,IAAKA,CAAC,CAACH,GAAG,KAAKP,QAAQ,CAACO,GAAG,CAC9B;QACD,IAAIC,YAAY,GAAG,CAAC,CAAC,EAAE;UACrB,IAAI,CAAChB,QAAQ,CAACgB,YAAY,CAAC,GAAGR,QAAQ;;MAE1C,CAAC,EACAE,KAAK,IAAI;QACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CACF;;EAEL;CACD;AA9CYhB,uBAAuB,GAAAyB,UAAA,EALnC1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,kCAAkC;CAC/C,CAAC,C,EACW5B,uBAAuB,CA8CnC"},"metadata":{},"sourceType":"module","externalDependencies":[]}