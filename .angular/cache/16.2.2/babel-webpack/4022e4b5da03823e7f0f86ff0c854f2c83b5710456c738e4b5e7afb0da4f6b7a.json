{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let ProductsEditComponent = class ProductsEditComponent {\n  constructor(formBuilder, productsService, routers, router) {\n    this.formBuilder = formBuilder;\n    this.productsService = productsService;\n    this.routers = routers;\n    this.router = router;\n    this.submitValue = false;\n    this.categoryForm = this.formBuilder.group({\n      name: ['', [Validators.required]],\n      price: [0, [Validators.required]],\n      author: ['', [Validators.required]],\n      description: ['', [Validators.required]],\n      quantity: [0, [Validators.required]],\n      images: ['', [Validators.required]],\n      categoryId: ['', [Validators.required]],\n      sale: [0, [Validators.required]],\n      tags: ['', [Validators.required]],\n      discount: [0, [Validators.required]],\n      status: ['', [Validators.required]]\n    });\n    this.productsService.getCategory().subscribe(response => {\n      this.category = response.data;\n    });\n    this.router.paramMap.subscribe(params => {\n      const _id = params.get(\"id\");\n      this.productsService.getProduct(_id).subscribe(response => {\n        this.products = response.data;\n        console.log(_id);\n        console.log(response.products);\n        this.categoryForm.patchValue({\n          name: response.products.name,\n          price: response.products.price,\n          images: response.products.images,\n          description: response.products.description,\n          author: response.products.author,\n          categoryId: response.products.categoryId,\n          sale: response.products.sale,\n          quantity: response.products.quantity,\n          tags: response.products.tags,\n          discount: response.products.discount,\n          status: response.products.status\n        });\n      });\n    });\n  }\n  onhandledSubmit() {\n    this.submitValue = true;\n    if (this.categoryForm.valid) {\n      const product = {\n        _id: this.products._id,\n        name: this.categoryForm.value.name || '',\n        price: this.categoryForm.value.price || 0,\n        author: this.categoryForm.value.author || '',\n        description: this.categoryForm.value.description || '',\n        quantity: this.categoryForm.value.quantity || 0,\n        images: this.categoryForm.value.images || '',\n        sale: this.categoryForm.value.sale || 0,\n        tags: this.categoryForm.value.tags || '',\n        discount: this.categoryForm.value.discount || 0,\n        status: this.categoryForm.value.status || '',\n        categoryId: this.categoryForm.value.categoryId || ''\n      };\n      console.log(product);\n      if (confirm('Bạn có chắc muốn cập nhập sản phẩm này không!')) {\n        this.productsService.updateProduct(product).subscribe(data => {\n          this.routers.navigate(['admin/products']);\n          setTimeout(() => {\n            alert(\"Cập nhập sản phẩm thành công!\");\n          }, 1000);\n        });\n      }\n    }\n  }\n};\nProductsEditComponent = __decorate([Component({\n  selector: 'app-products-edit',\n  templateUrl: './products-edit.component.html',\n  styleUrls: ['./products-edit.component.scss']\n})], ProductsEditComponent);","map":{"version":3,"names":["Component","Validators","ProductsEditComponent","constructor","formBuilder","productsService","routers","router","submitValue","categoryForm","group","name","required","price","author","description","quantity","images","categoryId","sale","tags","discount","status","getCategory","subscribe","response","category","data","paramMap","params","_id","get","getProduct","products","console","log","patchValue","onhandledSubmit","valid","product","value","confirm","updateProduct","navigate","setTimeout","alert","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Duong Danh Nam\\Desktop\\thự tập\\FontEnd\\src\\app\\pages\\products-edit\\products-edit.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { IProducts } from 'src/app/interface/products';\nimport { FormBuilder,Validators } from '@angular/forms';\nimport { ProductsService } from 'src/app/service/products.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-products-edit',\n  templateUrl: './products-edit.component.html',\n  styleUrls: ['./products-edit.component.scss']\n})\nexport class ProductsEditComponent {\n  category!: any;\n  submitValue: boolean = false;\n  products!:any;\n\n  categoryForm = this.formBuilder.group({\n    name: ['', [Validators.required]],\n    price: [0, [Validators.required]],\n    author: ['', [Validators.required]],\n    description: ['', [Validators.required]],\n    quantity: [0, [Validators.required]],\n    images: ['', [Validators.required]],\n    categoryId: ['', [Validators.required]],\n    sale: [0, [Validators.required]],\n    tags:['',[Validators.required]],\n    discount:[0, [Validators.required]],\n    status: ['', [Validators.required]],\n  })\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private productsService: ProductsService,\n    private routers: Router,\n    private router:ActivatedRoute\n  ) {\n    this.productsService.getCategory().subscribe((response: any) => {\n      this.category = response.data\n    })\n\n    this.router.paramMap.subscribe(params=>{\n      const _id = (params.get(\"id\"));\n      this.productsService.getProduct(_id).subscribe((response:any)=>{\n        this.products = response.data\n        console.log(_id);\n        console.log(response.products);\n\n        this.categoryForm.patchValue({\n          name:response.products.name,\n          price:response.products.price,\n          images:response.products.images,\n          description:response.products.description,\n          author:response.products.author,\n          categoryId:response.products.categoryId,\n          sale:response.products.sale,\n          quantity:response.products.quantity,\n          tags:response.products.tags,\n          discount:response.products.discount,\n          status:response.products.status\n        })\n        \n      })\n    })\n    \n  }\n\n  onhandledSubmit() {\n    this.submitValue = true\n    if (this.categoryForm.valid) {\n      const product: IProducts = {\n        _id:this.products._id,\n        name: this.categoryForm.value.name || '',\n        price: this.categoryForm.value.price || 0,\n        author: this.categoryForm.value.author || '',\n        description: this.categoryForm.value.description || '',\n        quantity: this.categoryForm.value.quantity || 0,\n        images: this.categoryForm.value.images || '',\n        sale: this.categoryForm.value.sale || 0,\n        tags:this.categoryForm.value.tags || '',\n        discount: this.categoryForm.value.discount || 0,\n        status:this.categoryForm.value.status || '',\n        categoryId: this.categoryForm.value.categoryId || '',\n        \n      }\n      console.log(product);     \n      if (confirm('Bạn có chắc muốn cập nhập sản phẩm này không!')) {\n        this.productsService.updateProduct(product).subscribe((data) => {\n          this.routers.navigate(['admin/products'])\n          setTimeout(() => {\n            alert(\"Cập nhập sản phẩm thành công!\")\n          }, 1000);\n        })\n      }\n    }\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAEzC,SAAqBC,UAAU,QAAQ,gBAAgB;AAShD,WAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAmBhCC,YACUC,WAAwB,EACxBC,eAAgC,EAChCC,OAAe,EACfC,MAAqB;IAHrB,KAAAH,WAAW,GAAXA,WAAW;IACX,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,OAAO,GAAPA,OAAO;IACP,KAAAC,MAAM,GAANA,MAAM;IArBhB,KAAAC,WAAW,GAAY,KAAK;IAG5B,KAAAC,YAAY,GAAG,IAAI,CAACL,WAAW,CAACM,KAAK,CAAC;MACpCC,IAAI,EAAE,CAAC,EAAE,EAAE,CAACV,UAAU,CAACW,QAAQ,CAAC,CAAC;MACjCC,KAAK,EAAE,CAAC,CAAC,EAAE,CAACZ,UAAU,CAACW,QAAQ,CAAC,CAAC;MACjCE,MAAM,EAAE,CAAC,EAAE,EAAE,CAACb,UAAU,CAACW,QAAQ,CAAC,CAAC;MACnCG,WAAW,EAAE,CAAC,EAAE,EAAE,CAACd,UAAU,CAACW,QAAQ,CAAC,CAAC;MACxCI,QAAQ,EAAE,CAAC,CAAC,EAAE,CAACf,UAAU,CAACW,QAAQ,CAAC,CAAC;MACpCK,MAAM,EAAE,CAAC,EAAE,EAAE,CAAChB,UAAU,CAACW,QAAQ,CAAC,CAAC;MACnCM,UAAU,EAAE,CAAC,EAAE,EAAE,CAACjB,UAAU,CAACW,QAAQ,CAAC,CAAC;MACvCO,IAAI,EAAE,CAAC,CAAC,EAAE,CAAClB,UAAU,CAACW,QAAQ,CAAC,CAAC;MAChCQ,IAAI,EAAC,CAAC,EAAE,EAAC,CAACnB,UAAU,CAACW,QAAQ,CAAC,CAAC;MAC/BS,QAAQ,EAAC,CAAC,CAAC,EAAE,CAACpB,UAAU,CAACW,QAAQ,CAAC,CAAC;MACnCU,MAAM,EAAE,CAAC,EAAE,EAAE,CAACrB,UAAU,CAACW,QAAQ,CAAC;KACnC,CAAC;IAQA,IAAI,CAACP,eAAe,CAACkB,WAAW,EAAE,CAACC,SAAS,CAAEC,QAAa,IAAI;MAC7D,IAAI,CAACC,QAAQ,GAAGD,QAAQ,CAACE,IAAI;IAC/B,CAAC,CAAC;IAEF,IAAI,CAACpB,MAAM,CAACqB,QAAQ,CAACJ,SAAS,CAACK,MAAM,IAAE;MACrC,MAAMC,GAAG,GAAID,MAAM,CAACE,GAAG,CAAC,IAAI,CAAE;MAC9B,IAAI,CAAC1B,eAAe,CAAC2B,UAAU,CAACF,GAAG,CAAC,CAACN,SAAS,CAAEC,QAAY,IAAG;QAC7D,IAAI,CAACQ,QAAQ,GAAGR,QAAQ,CAACE,IAAI;QAC7BO,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC;QAChBI,OAAO,CAACC,GAAG,CAACV,QAAQ,CAACQ,QAAQ,CAAC;QAE9B,IAAI,CAACxB,YAAY,CAAC2B,UAAU,CAAC;UAC3BzB,IAAI,EAACc,QAAQ,CAACQ,QAAQ,CAACtB,IAAI;UAC3BE,KAAK,EAACY,QAAQ,CAACQ,QAAQ,CAACpB,KAAK;UAC7BI,MAAM,EAACQ,QAAQ,CAACQ,QAAQ,CAAChB,MAAM;UAC/BF,WAAW,EAACU,QAAQ,CAACQ,QAAQ,CAAClB,WAAW;UACzCD,MAAM,EAACW,QAAQ,CAACQ,QAAQ,CAACnB,MAAM;UAC/BI,UAAU,EAACO,QAAQ,CAACQ,QAAQ,CAACf,UAAU;UACvCC,IAAI,EAACM,QAAQ,CAACQ,QAAQ,CAACd,IAAI;UAC3BH,QAAQ,EAACS,QAAQ,CAACQ,QAAQ,CAACjB,QAAQ;UACnCI,IAAI,EAACK,QAAQ,CAACQ,QAAQ,CAACb,IAAI;UAC3BC,QAAQ,EAACI,QAAQ,CAACQ,QAAQ,CAACZ,QAAQ;UACnCC,MAAM,EAACG,QAAQ,CAACQ,QAAQ,CAACX;SAC1B,CAAC;MAEJ,CAAC,CAAC;IACJ,CAAC,CAAC;EAEJ;EAEAe,eAAeA,CAAA;IACb,IAAI,CAAC7B,WAAW,GAAG,IAAI;IACvB,IAAI,IAAI,CAACC,YAAY,CAAC6B,KAAK,EAAE;MAC3B,MAAMC,OAAO,GAAc;QACzBT,GAAG,EAAC,IAAI,CAACG,QAAQ,CAACH,GAAG;QACrBnB,IAAI,EAAE,IAAI,CAACF,YAAY,CAAC+B,KAAK,CAAC7B,IAAI,IAAI,EAAE;QACxCE,KAAK,EAAE,IAAI,CAACJ,YAAY,CAAC+B,KAAK,CAAC3B,KAAK,IAAI,CAAC;QACzCC,MAAM,EAAE,IAAI,CAACL,YAAY,CAAC+B,KAAK,CAAC1B,MAAM,IAAI,EAAE;QAC5CC,WAAW,EAAE,IAAI,CAACN,YAAY,CAAC+B,KAAK,CAACzB,WAAW,IAAI,EAAE;QACtDC,QAAQ,EAAE,IAAI,CAACP,YAAY,CAAC+B,KAAK,CAACxB,QAAQ,IAAI,CAAC;QAC/CC,MAAM,EAAE,IAAI,CAACR,YAAY,CAAC+B,KAAK,CAACvB,MAAM,IAAI,EAAE;QAC5CE,IAAI,EAAE,IAAI,CAACV,YAAY,CAAC+B,KAAK,CAACrB,IAAI,IAAI,CAAC;QACvCC,IAAI,EAAC,IAAI,CAACX,YAAY,CAAC+B,KAAK,CAACpB,IAAI,IAAI,EAAE;QACvCC,QAAQ,EAAE,IAAI,CAACZ,YAAY,CAAC+B,KAAK,CAACnB,QAAQ,IAAI,CAAC;QAC/CC,MAAM,EAAC,IAAI,CAACb,YAAY,CAAC+B,KAAK,CAAClB,MAAM,IAAI,EAAE;QAC3CJ,UAAU,EAAE,IAAI,CAACT,YAAY,CAAC+B,KAAK,CAACtB,UAAU,IAAI;OAEnD;MACDgB,OAAO,CAACC,GAAG,CAACI,OAAO,CAAC;MACpB,IAAIE,OAAO,CAAC,+CAA+C,CAAC,EAAE;QAC5D,IAAI,CAACpC,eAAe,CAACqC,aAAa,CAACH,OAAO,CAAC,CAACf,SAAS,CAAEG,IAAI,IAAI;UAC7D,IAAI,CAACrB,OAAO,CAACqC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC;UACzCC,UAAU,CAAC,MAAK;YACdC,KAAK,CAAC,+BAA+B,CAAC;UACxC,CAAC,EAAE,IAAI,CAAC;QACV,CAAC,CAAC;;;EAGR;CACD;AApFY3C,qBAAqB,GAAA4C,UAAA,EALjC9C,SAAS,CAAC;EACT+C,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,C,EACW/C,qBAAqB,CAoFjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}