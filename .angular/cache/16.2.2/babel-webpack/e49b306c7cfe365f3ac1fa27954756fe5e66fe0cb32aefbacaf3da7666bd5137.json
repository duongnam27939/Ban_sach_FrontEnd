{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport Swal from 'sweetalert2';\nexport let ProductsComponent = class ProductsComponent {\n  constructor(productsService, route) {\n    this.productsService = productsService;\n    this.route = route;\n    this.isShown = true;\n    this.productsService.getAllProducts().subscribe(response => {\n      this.products = response.products;\n      console.log(response.products);\n    });\n  }\n  removeId(_id) {\n    this.productsService.deleteProduct(_id).subscribe(data => {\n      Swal.fire({\n        title: 'Xác nhận xóa',\n        text: 'Bạn có chắc chắn muốn xóa sản phẩm?',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'OK',\n        cancelButtonText: 'Hủy',\n        reverseButtons: true\n      }).then(result => {\n        if (result.isConfirmed) {\n          Swal.fire({\n            position: 'center',\n            icon: 'success',\n            title: 'Xóa sản phẩm thành công',\n            text: 'Sản phẩm đã được xóa thành công!',\n            showConfirmButton: false,\n            timer: 2000,\n            iconHtml: '<i class=\"fas fa-check-circle\"></i>'\n          });\n          this.products = this.products.filter(item => item._id !== _id);\n        } else if (result.dismiss === Swal.DismissReason.cancel) {\n          Swal.fire('Hủy bỏ', 'Sản phẩm không bị xóa.', 'info');\n        }\n      });\n    });\n  }\n  onSearch() {\n    this.isShown = true;\n    if (this.searchValue === \"\") {\n      this.products = this.allProducts;\n    } else {\n      this.productsService.getAllProducts().subscribe(response => {\n        this.products = response.data.filter(product => {\n          return product.name.toLowerCase().includes(this.searchValue === \"\" ? null : this.searchValue.toLowerCase());\n        });\n      });\n    }\n  }\n  onClickOutside() {\n    this.isShown = false;\n  }\n};\nProductsComponent = __decorate([Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.scss']\n})], ProductsComponent);","map":{"version":3,"names":["Component","Swal","ProductsComponent","constructor","productsService","route","isShown","getAllProducts","subscribe","response","products","console","log","removeId","_id","deleteProduct","data","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","then","result","isConfirmed","position","showConfirmButton","timer","iconHtml","filter","item","dismiss","DismissReason","cancel","onSearch","searchValue","allProducts","product","name","toLowerCase","includes","onClickOutside","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Duong Danh Nam\\Desktop\\thự tập\\FontEnd\\src\\app\\pages\\products\\products.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { IProducts } from 'src/app/interface/products';\nimport { ProductsService } from 'src/app/service/products.service';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.scss']\n})\nexport class ProductsComponent {\n  products!: IProducts[];\n  category!: any[];\n  isShown: boolean = true;\n  searchValue: any;\n  allProducts!: IProducts[];\n  \n\n  constructor(private productsService: ProductsService,\n    private route: ActivatedRoute) {\n    this.productsService.getAllProducts().subscribe((response: any) => {\n      this.products = response.products\n      console.log(response.products);\n    })\n  }\n\n  removeId(_id: any) {\n    this.productsService.deleteProduct(_id).subscribe((data) => {\n      \n      Swal.fire({\n        title: 'Xác nhận xóa',\n        text: 'Bạn có chắc chắn muốn xóa sản phẩm?',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'OK',\n        cancelButtonText: 'Hủy',\n        reverseButtons: true\n      }).then((result) => {\n        if (result.isConfirmed) {\n          Swal.fire({\n            position: 'center',\n            icon: 'success',\n            title: 'Xóa sản phẩm thành công',\n            text: 'Sản phẩm đã được xóa thành công!',\n            showConfirmButton: false,\n            timer: 2000,\n            iconHtml: '<i class=\"fas fa-check-circle\"></i>'\n          });\n          this.products = this.products.filter(item => item._id !== _id)\n        } else if (result.dismiss === Swal.DismissReason.cancel) {\n          Swal.fire(\n            'Hủy bỏ',\n            'Sản phẩm không bị xóa.',\n            'info'\n          );\n        }\n      });\n    })\n  }\n\n\n  onSearch(){\n    this.isShown = true;\n    if (this.searchValue === \"\") {\n      this.products = this.allProducts\n    }else{\n      this.productsService.getAllProducts().subscribe((response:any)=>{\n        this.products = response.data.filter((product:any)=>{\n          return product.name.toLowerCase().includes(this.searchValue === \"\" ? null : this.searchValue.toLowerCase())\n        })\n      })\n    }\n  }\n\n  onClickOutside() {\n    this.isShown = false;\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAIzC,OAAOC,IAAI,MAAM,aAAa;AAOvB,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAQ5BC,YAAoBC,eAAgC,EAC1CC,KAAqB;IADX,KAAAD,eAAe,GAAfA,eAAe;IACzB,KAAAC,KAAK,GAALA,KAAK;IANf,KAAAC,OAAO,GAAY,IAAI;IAOrB,IAAI,CAACF,eAAe,CAACG,cAAc,EAAE,CAACC,SAAS,CAAEC,QAAa,IAAI;MAChE,IAAI,CAACC,QAAQ,GAAGD,QAAQ,CAACC,QAAQ;MACjCC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACC,QAAQ,CAAC;IAChC,CAAC,CAAC;EACJ;EAEAG,QAAQA,CAACC,GAAQ;IACf,IAAI,CAACV,eAAe,CAACW,aAAa,CAACD,GAAG,CAAC,CAACN,SAAS,CAAEQ,IAAI,IAAI;MAEzDf,IAAI,CAACgB,IAAI,CAAC;QACRC,KAAK,EAAE,cAAc;QACrBC,IAAI,EAAE,qCAAqC;QAC3CC,IAAI,EAAE,SAAS;QACfC,gBAAgB,EAAE,IAAI;QACtBC,iBAAiB,EAAE,IAAI;QACvBC,gBAAgB,EAAE,KAAK;QACvBC,cAAc,EAAE;OACjB,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAI;QACjB,IAAIA,MAAM,CAACC,WAAW,EAAE;UACtB1B,IAAI,CAACgB,IAAI,CAAC;YACRW,QAAQ,EAAE,QAAQ;YAClBR,IAAI,EAAE,SAAS;YACfF,KAAK,EAAE,yBAAyB;YAChCC,IAAI,EAAE,kCAAkC;YACxCU,iBAAiB,EAAE,KAAK;YACxBC,KAAK,EAAE,IAAI;YACXC,QAAQ,EAAE;WACX,CAAC;UACF,IAAI,CAACrB,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACsB,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACnB,GAAG,KAAKA,GAAG,CAAC;SAC/D,MAAM,IAAIY,MAAM,CAACQ,OAAO,KAAKjC,IAAI,CAACkC,aAAa,CAACC,MAAM,EAAE;UACvDnC,IAAI,CAACgB,IAAI,CACP,QAAQ,EACR,wBAAwB,EACxB,MAAM,CACP;;MAEL,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAGAoB,QAAQA,CAAA;IACN,IAAI,CAAC/B,OAAO,GAAG,IAAI;IACnB,IAAI,IAAI,CAACgC,WAAW,KAAK,EAAE,EAAE;MAC3B,IAAI,CAAC5B,QAAQ,GAAG,IAAI,CAAC6B,WAAW;KACjC,MAAI;MACH,IAAI,CAACnC,eAAe,CAACG,cAAc,EAAE,CAACC,SAAS,CAAEC,QAAY,IAAG;QAC9D,IAAI,CAACC,QAAQ,GAAGD,QAAQ,CAACO,IAAI,CAACgB,MAAM,CAAEQ,OAAW,IAAG;UAClD,OAAOA,OAAO,CAACC,IAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACL,WAAW,KAAK,EAAE,GAAG,IAAI,GAAG,IAAI,CAACA,WAAW,CAACI,WAAW,EAAE,CAAC;QAC7G,CAAC,CAAC;MACJ,CAAC,CAAC;;EAEN;EAEAE,cAAcA,CAAA;IACZ,IAAI,CAACtC,OAAO,GAAG,KAAK;EACtB;CACD;AAnEYJ,iBAAiB,GAAA2C,UAAA,EAL7B7C,SAAS,CAAC;EACT8C,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACW9C,iBAAiB,CAmE7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}