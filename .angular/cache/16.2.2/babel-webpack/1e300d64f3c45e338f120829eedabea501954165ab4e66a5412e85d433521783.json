{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let ProductsAddComponent = class ProductsAddComponent {\n  constructor(formBuilder, productsService, routers) {\n    this.formBuilder = formBuilder;\n    this.productsService = productsService;\n    this.routers = routers;\n    this.submitValue = false;\n    this.categoryForm = this.formBuilder.group({\n      name: ['', [Validators.required]],\n      price: [, [Validators.required]],\n      author: ['', [Validators.required]],\n      description: ['', [Validators.required]],\n      quantity: [, [Validators.required]],\n      images: ['', [Validators.required]],\n      categoryId: ['', [Validators.required]]\n    });\n    this.productsService.getCategory().subscribe(response => {\n      this.category = response;\n      console.log(response);\n    });\n  }\n  onhandledSubmit() {\n    this.submitValue = true;\n    if (this.categoryForm.valid) {\n      const product = {\n        name: this.category.name || '',\n        price: this.category.price || 0,\n        author: this.category.author || '',\n        description: this.category.description || '',\n        quantity: this.category.quantity || 0,\n        images: this.category.images || '',\n        categoryId: this.category.categoryId || ''\n      };\n      if (confirm('Bạn có chắc muốn thêm sản phẩm này không!')) {\n        this.productsService.addProduct(product).subscribe(data => {\n          this.routers.navigate(['admin/products']);\n          setTimeout(() => {\n            alert(\"Thêm sản phẩm thành công!\");\n          }, 2000);\n        });\n      }\n    }\n  }\n};\nProductsAddComponent = __decorate([Component({\n  selector: 'app-products-add',\n  templateUrl: './products-add.component.html',\n  styleUrls: ['./products-add.component.scss']\n})], ProductsAddComponent);","map":{"version":3,"names":["Component","Validators","ProductsAddComponent","constructor","formBuilder","productsService","routers","submitValue","categoryForm","group","name","required","price","author","description","quantity","images","categoryId","getCategory","subscribe","response","category","console","log","onhandledSubmit","valid","product","confirm","addProduct","data","navigate","setTimeout","alert","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Duong Danh Nam\\Desktop\\thự tập\\FontEnd\\src\\app\\pages\\products-add\\products-add.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormBuilder, Validators } from '@angular/forms'\nimport { ProductsService } from 'src/app/service/products.service';\nimport { IProducts } from 'src/app/interface/products';\n\n@Component({\n  selector: 'app-products-add',\n  templateUrl: './products-add.component.html',\n  styleUrls: ['./products-add.component.scss']\n})\nexport class ProductsAddComponent {\n \n  category!: any;\n  submitValue: boolean = false;\n\n  categoryForm = this.formBuilder.group({\n    name: ['', [Validators.required]],\n    price: [,[Validators.required]],\n    author: ['',[Validators.required]],\n    description: ['', [Validators.required]],\n    quantity: [,[Validators.required]],\n    images: ['', [Validators.required]],\n    categoryId: ['', [Validators.required]],\n  })\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private productsService: ProductsService,\n    private routers: Router\n  ){\n    this.productsService.getCategory().subscribe((response:any)=>{\n      this.category = response\n      console.log(response);\n      \n    })\n  }\n\n  onhandledSubmit(){\n    this.submitValue = true;\n    if (this.categoryForm.valid) {\n      const product :IProducts = {\n        name: this.category.name || '',\n        price: this.category.price || 0,\n        author: this.category.author || '',\n        description: this.category.description || '',\n        quantity: this.category.quantity || 0,\n        images: this.category.images || '',\n        categoryId: this.category.categoryId || ''\n      }\n      if (confirm('Bạn có chắc muốn thêm sản phẩm này không!')) {\n        this.productsService.addProduct(product).subscribe((data)=>{\n          this.routers.navigate(['admin/products'])\n          setTimeout(() => {\n            alert(\"Thêm sản phẩm thành công!\")\n          }, 2000);\n        })\n      }\n    }\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAEzC,SAAsBC,UAAU,QAAQ,gBAAgB;AASjD,WAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAe/BC,YACUC,WAAwB,EACxBC,eAAgC,EAChCC,OAAe;IAFf,KAAAF,WAAW,GAAXA,WAAW;IACX,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,OAAO,GAAPA,OAAO;IAfjB,KAAAC,WAAW,GAAY,KAAK;IAE5B,KAAAC,YAAY,GAAG,IAAI,CAACJ,WAAW,CAACK,KAAK,CAAC;MACpCC,IAAI,EAAE,CAAC,EAAE,EAAE,CAACT,UAAU,CAACU,QAAQ,CAAC,CAAC;MACjCC,KAAK,EAAE,GAAE,CAACX,UAAU,CAACU,QAAQ,CAAC,CAAC;MAC/BE,MAAM,EAAE,CAAC,EAAE,EAAC,CAACZ,UAAU,CAACU,QAAQ,CAAC,CAAC;MAClCG,WAAW,EAAE,CAAC,EAAE,EAAE,CAACb,UAAU,CAACU,QAAQ,CAAC,CAAC;MACxCI,QAAQ,EAAE,GAAE,CAACd,UAAU,CAACU,QAAQ,CAAC,CAAC;MAClCK,MAAM,EAAE,CAAC,EAAE,EAAE,CAACf,UAAU,CAACU,QAAQ,CAAC,CAAC;MACnCM,UAAU,EAAE,CAAC,EAAE,EAAE,CAAChB,UAAU,CAACU,QAAQ,CAAC;KACvC,CAAC;IAOA,IAAI,CAACN,eAAe,CAACa,WAAW,EAAE,CAACC,SAAS,CAAEC,QAAY,IAAG;MAC3D,IAAI,CAACC,QAAQ,GAAGD,QAAQ;MACxBE,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;IAEvB,CAAC,CAAC;EACJ;EAEAI,eAAeA,CAAA;IACb,IAAI,CAACjB,WAAW,GAAG,IAAI;IACvB,IAAI,IAAI,CAACC,YAAY,CAACiB,KAAK,EAAE;MAC3B,MAAMC,OAAO,GAAc;QACzBhB,IAAI,EAAE,IAAI,CAACW,QAAQ,CAACX,IAAI,IAAI,EAAE;QAC9BE,KAAK,EAAE,IAAI,CAACS,QAAQ,CAACT,KAAK,IAAI,CAAC;QAC/BC,MAAM,EAAE,IAAI,CAACQ,QAAQ,CAACR,MAAM,IAAI,EAAE;QAClCC,WAAW,EAAE,IAAI,CAACO,QAAQ,CAACP,WAAW,IAAI,EAAE;QAC5CC,QAAQ,EAAE,IAAI,CAACM,QAAQ,CAACN,QAAQ,IAAI,CAAC;QACrCC,MAAM,EAAE,IAAI,CAACK,QAAQ,CAACL,MAAM,IAAI,EAAE;QAClCC,UAAU,EAAE,IAAI,CAACI,QAAQ,CAACJ,UAAU,IAAI;OACzC;MACD,IAAIU,OAAO,CAAC,2CAA2C,CAAC,EAAE;QACxD,IAAI,CAACtB,eAAe,CAACuB,UAAU,CAACF,OAAO,CAAC,CAACP,SAAS,CAAEU,IAAI,IAAG;UACzD,IAAI,CAACvB,OAAO,CAACwB,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC;UACzCC,UAAU,CAAC,MAAK;YACdC,KAAK,CAAC,2BAA2B,CAAC;UACpC,CAAC,EAAE,IAAI,CAAC;QACV,CAAC,CAAC;;;EAGR;CACD;AAjDY9B,oBAAoB,GAAA+B,UAAA,EALhCjC,SAAS,CAAC;EACTkC,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACWlC,oBAAoB,CAiDhC"},"metadata":{},"sourceType":"module","externalDependencies":[]}